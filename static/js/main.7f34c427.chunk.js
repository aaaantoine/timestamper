(this.webpackJsonptimestamper=this.webpackJsonptimestamper||[]).push([[0],{14:function(t,e,n){t.exports=n(28)},19:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(8),s=n.n(i),o=(n(19),n(4)),u=n(5),c=n(13),l=n(12),m=n(2),d=n(3),p=n(11),y=(n(25),n(6)),f=n.n(y),h=function(t){return t.toString().padStart(4,"0")},E=function(){function t(e){var n,r=this;Object(o.a)(this,t),this.toObject=function(){return{date:r.date,time:r.time,sorttime:r.sorttime}},this.startEntry=function(){return r.setIsMidEntry(!0)},this.completeEntry=function(){return r.setIsMidEntry(!1)},this.renderTime=function(t){return r.isMidEntry?r.time.toString():t&&t.includeColon?(e=h(r.time)).slice(0,2)+":"+e.slice(2):h(r.time);var e},e instanceof Date?(this.date=f()(new Date(e.getFullYear(),e.getMonth(),e.getDate())),this.time=100*(n=e).getHours()+n.getMinutes(),this.sorttime=this.time,this.isMidEntry=!1):(this.date=f()(new Date(e.date)),this.time=e.time,this.sorttime=e.sorttime,this.setIsMidEntry(!1))}return Object(u.a)(t,[{key:"getSortable",value:function(){var t=h(this.sorttime),e=parseInt(t.slice(0,2)),n=parseInt(t.slice(2))+60*e;return f()(this.date).add(n,"m")}},{key:"setIsMidEntry",value:function(t){return this.isMidEntry=t,t||(!function(t){return t&&!isNaN(t)&&0<=parseInt(t)&&parseInt(t)<=2359&&parseInt(t.slice(-2))<60}(this.time.toString())?this.time=this.sorttime:this.sorttime=this.time),this}},{key:"setTime",value:function(t){return t||(t=0),isNaN(t)||(this.time=parseInt(t)),this}}]),t}(),b=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).startTimeEntry=function(t){return r.updateTimeProp(t,(function(t){return t.startEntry()}))},r.completeTimeEntry=function(t){return r.updateTimeProp(t,(function(t){return t.completeEntry()}))},r.updateTime=function(t,e){return r.updateTimeProp(t,(function(t){return t.setTime(e)}))},r.updateTimeProp=function(t,e){return r.updateEntry(t,"timestamp",(function(t){return e(t.timestamp)}))},r.updateSummary=function(t,e){return r.updateEntry(t,"summary",e)},r.updateIsBreak=function(t){return r.updateEntry(t,"isBreak",(function(t){return!t.isBreak}))},r.state={entries:r.loadEntries(),isCopyMode:!1},r}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=function(t){return"input-group"+(t.isBreak?" break-entry":"")},n=function(e,n,r){return 0!==n&&t.state.entries[n-1].timestamp.date.isSame(e.timestamp.date)?"":a.a.createElement("div",{class:"border-bottom mt-4 mb-2 "+r},a.a.createElement("small",null,e.timestamp.date.format("YYYY-MM-DD dddd")))},r=this.state.entries.map(this.state.isCopyMode?function(t,e){return a.a.createElement(a.a.Fragment,null,n(t,e,"row"),a.a.createElement("div",{class:"row"+(t.isBreak?" break-entry":"")},a.a.createElement("div",{class:"col-xs-1 m-2"},t.timestamp.renderTime({includeColon:!0})),a.a.createElement("div",{class:"col m-2"},t.summary)))}:function(r,i){return a.a.createElement(a.a.Fragment,null,n(r,i),a.a.createElement("div",{class:e(r)},a.a.createElement("input",{type:"text",class:"form-control timestamp",ref:r.timestampRef,autoFocus:!0,maxlength:"4",value:r.timestamp.renderTime(),onChange:function(e){return t.updateTime(i,e.target.value)},onFocus:function(){return t.startTimeEntry(i)},onBlur:function(){return t.completeTimeEntry(i)},onKeyDown:function(e){return t.arrowKeyFocus(i,e,"timestamp")}}),a.a.createElement("input",{type:"text",class:"form-control",ref:r.summaryRef,value:r.summary,onChange:function(e){return t.updateSummary(i,e.target.value)},onKeyDown:function(e){return t.arrowKeyFocus(i,e,"summary")}}),a.a.createElement("div",{class:"input-group-append"},function(e,n,r){return r?"":a.a.createElement("button",{class:"btn btn-outline-secondary",type:"button",title:"Add a new entry to resume this task.",onClick:function(e){return t.resumeEntry(n)}},a.a.createElement(m.a,{icon:d.c}))}(0,i,i===t.state.entries.length-1),a.a.createElement("button",{class:"btn "+(r.isBreak?"btn-secondary":"btn-outline-secondary"),type:"button",title:"Toggle break.",onClick:function(e){return t.updateIsBreak(i)}},a.a.createElement(m.a,{icon:d.b})),a.a.createElement("button",{class:"btn btn-outline-danger",type:"button",title:"Remove entry.",onClick:function(e){return t.removeEntry(i)}},a.a.createElement(m.a,{icon:d.e})))))}),i="btn ml-1 "+(this.state.isCopyMode?"btn-secondary":"btn-outline-secondary");return a.a.createElement("div",{class:"container"},r,a.a.createElement("div",{class:"mt-2"},a.a.createElement("button",{class:"btn btn-primary",type:"button",title:"Add an entry.",onClick:function(){return t.addEntry()},disabled:this.state.isCopyMode},a.a.createElement(m.a,{icon:d.d})),a.a.createElement("button",{class:"btn btn-secondary ml-1",type:"button",title:"Take a break.",onClick:function(e){return t.addEntry("Break",!0)},disabled:this.state.isCopyMode},a.a.createElement(m.a,{icon:d.b})),a.a.createElement("button",{class:i,type:"button",title:"Toggle Copy/Report Mode",onClick:function(){return t.toggleCopyMode()}},a.a.createElement(m.a,{icon:d.a})),a.a.createElement("button",{class:"btn btn-danger ml-1",type:"button",title:"Clear all entries.",onClick:function(){return t.clearAllEntries()}},a.a.createElement(m.a,{icon:d.e}))))}},{key:"arrowKeyFocus",value:function(t,e,n){var r=t;if(38===e.keyCode){if(t<=0)return;r-=1}else{if(40!==e.keyCode&&13!==e.keyCode)return;if(t>=this.state.entries.length-1)return void(""!==this.state.entries[t].summary.trim()&&this.addEntry());r+=1}this.state.entries[r][n+"Ref"].current.focus()}},{key:"updateEntry",value:function(t,e,n){if("function"!==typeof n){var r=n;n=function(t){return r}}var a=this.state.entries;a[t][e]=n(a[t]),a.sort((function(t,e){return t.timestamp.getSortable()-e.timestamp.getSortable()})),this.setStateWrapper({entries:a})}},{key:"resumeEntry",value:function(t){var e=this.state.entries[t],n=e.summary;n=n.startsWith("Resume ")?n:"Resume "+n,this.addEntry(n,e.isBreak)}},{key:"addEntry",value:function(t,e){t||(t="");var n=this.state.entries;n.push(this.createEntry({timestamp:new E(new Date),summary:t,isBreak:!!e})),this.setStateWrapper({entries:n})}},{key:"createEntry",value:function(t){return{timestamp:t.timestamp,summary:t.summary,isBreak:!!t.isBreak,timestampRef:a.a.createRef(),summaryRef:a.a.createRef()}}},{key:"removeEntry",value:function(t){var e=this.state.entries;e.splice(t,1),this.setStateWrapper({entries:e})}},{key:"toggleCopyMode",value:function(){var t=!this.state.isCopyMode;this.setState({isCopyMode:t})}},{key:"clearAllEntries",value:function(){var t=this;Object(p.confirmAlert)({title:"Clear all entries",message:"Are you sure?",buttons:[{label:"Yes, Clear",onClick:function(){t.setState({entries:[]})}},{label:"No, Cancel"}]})}},{key:"setStateWrapper",value:function(t){this.setState(t),this.saveEntries(this.state.entries)}},{key:"saveEntries",value:function(t){var e=t.map((function(t){return{timestamp:t.timestamp.toObject(),summary:t.summary,isBreak:t.isBreak}}));localStorage.setItem("entries",JSON.stringify(e))}},{key:"loadEntries",value:function(){var t=JSON.parse(localStorage.getItem("entries"));if(t)for(var e=0;e<t.length;e++)t[e].timestamp=new E(t[e].timestamp),t[e]=this.createEntry(t[e]);return t||[]}}]),n}(a.a.Component);n(27);var v=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("nav",{class:"navbar navbar-dark bg-dark"},a.a.createElement("a",{class:"navbar-brand",href:"."},"Timestamper"),a.a.createElement("a",{class:"nav-link p-2",href:"https://github.com/aaaantoine/timestamper",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub"},a.a.createElement("svg",{class:"navbar-nav-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 499.36",focusable:"false"},a.a.createElement("title",null,"GitHub"),a.a.createElement("path",{d:"M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z",fill:"currentColor","fill-rule":"evenodd"})))),a.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.7f34c427.chunk.js.map