{"version":3,"sources":["utils/formatting.js","components/header.js","utils/hashtagging.js","components/Report.js","components/Totals.js","dataTypes/Timestamp.js","Timesheet.js","App.js","serviceWorker.js","index.js"],"names":["formatTimespan","timespan","toFixed","header","text","className","class","dateHeader","entries","index","timestamp","sortdate","isSame","format","hashtagRegex","unHash","replace","Report","this","props","map","entry","Fragment","isBreak","renderTime","includeColon","summary","x","split","match","elapsed","timeElapsedText","React","Component","totalHours","label","value","Totals","displayHelp","filter","reduce","a","b","Object","keys","tags","sort","tag","pad","toString","padStart","getDateFromDateObj","moment","Date","getFullYear","getMonth","getDate","Timestamp","toObject","date","time","sorttime","startEntry","setIsMidEntry","completeEntry","renderDate","options","isMidEntry","slice","getHours","getMinutes","timestring","hours","parseInt","minutes","add","isNaN","timeIsValid","isValid","Timesheet","startTimeEntry","updateTimeProp","completeTimeEntry","updateDate","setDate","updateTime","setTime","func","updateEntry","updateSummary","updateIsBreak","toggleCopyMode","updateCopyMode","state","isCopyMode","loadEntries","rowClass","editModeMapping","type","ref","timestampRef","autoFocus","maxlength","onChange","event","target","onFocus","onBlur","onKeyDown","arrowKeyFocus","summaryRef","isLast","title","onClick","e","resumeEntry","icon","faPlay","resumeButton","length","aria-labelledby","faPause","removeEntry","faTrashAlt","id","data-toggle","aria-haspopup","aria-expanded","faBars","list","addEntry","disabled","faPlus","clearAllEntries","field","newIndex","keyCode","preventDefault","trim","current","focus","valueFunc","getSortable","setStateWrapper","sourceEntry","startsWith","push","createEntry","createRef","splice","setState","confirmAlert","message","buttons","calculateTimeElapsed","saveEntries","i","timestampA","search","forEach","self","indexOf","savedEntries","localStorage","setItem","JSON","stringify","parse","getItem","App","href","rel","aria-label","xmlns","viewBox","focusable","d","fill","fill-rule","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.e3f729e6.chunk.js","sourcesContent":["export const formatTimespan = (timespan) =>\n    (timespan / 1000 / 60 / 60).toFixed(2) + \"h\";\n\nexport const dateFormatString = \"YYYY-MM-DD dddd\";\n\nexport const dateFormatFieldString = \"YYYY-MM-DD\";\n","import React from 'react';\nimport { dateFormatString } from '../utils/formatting.js'\n\nexport const header = (text, className) => (\n    <div class={\"border-bottom mt-4 mb-2 \" + className}>\n        <small>{text}</small>\n    </div>\n);\n\nexport const dateHeader = (entries, index, className) =>\n    index === 0 || !entries[index - 1].timestamp.sortdate.isSame(entries[index].timestamp.sortdate)\n        ? header(\n            entries[index].timestamp.sortdate.format(dateFormatString),\n            className)\n        : \"\";\n","export const hashtagRegex = /#[\\w-]+/g;\n\nexport const findHashtagEntries = entries => \n    entries.filter(x => x.summary.search(hashtagRegex) >= 0);\n\nexport const getHashtags = text => text.match(hashtagRegex);\n\nexport const unHash = text => text.replace(/#/, \"\").replace(/-/g, \" \");\n","import React from 'react';\n\nimport { dateHeader } from './header.js';\n\nimport { formatTimespan } from '../utils/formatting.js';\nimport { hashtagRegex, unHash } from '../utils/hashtagging.js';\n\nconst copyModeSummary = summary =>\n    summary\n        .replace(hashtagRegex, x => `|${x}|`)\n        .split(\"|\")\n        .map(x =>\n            x.match(hashtagRegex)\n                ? (<strong>{unHash(x)}</strong>)\n                : (<React.Fragment>{x}</React.Fragment>));\n                \nconst timeElapsedText = (entry) =>\n    entry.elapsed\n        ? \"(\" + formatTimespan(entry.elapsed) + \")\"\n        : \"\";\n\nexport default class Report extends React.Component {\n    render() {\n        const copyModeMapping = (entry, index) => (\n            <React.Fragment>\n                {dateHeader(this.props.entries, index, \"row\")}    \n                <div class={\"row p-1\" + (entry.isBreak ? \" break-entry\" : \"\")}>\n                    <span class=\"col-xs-1\">\n                        {entry.timestamp.renderTime({includeColon: true})}\n                    </span>\n                    <span> </span>\n                    <span class=\"col\">\n                        {copyModeSummary(entry.summary)}\n                    </span>\n                    <span> </span>\n                    <span class=\"col-xs-2 elapsed-time\">\n                        {timeElapsedText(entry)}\n                    </span>\n                </div>\n            </React.Fragment>\n        );\n\n        return this.props.entries.map(copyModeMapping); \n    }\n}\n","import React from 'react';\n\nimport { formatTimespan } from '../utils/formatting.js';\nimport { unHash } from '../utils/hashtagging.js';\n\nconst totalHours = (label, value) => (\n    <div class=\"col-sm\">\n        <strong>{label}: </strong>\n        <span>{formatTimespan(value)}</span>\n    </div>\n);\n\nexport default class Totals extends React.Component {\n    render() {\n        const hashtagTotalMapping = (tag) =>\n            totalHours(unHash(tag), this.props.tags[tag]);\n\n        return (\n            <React.Fragment>\n                {this.props.displayHelp\n                    ? (<p>\n                        Use #Hashtagged-Category-Names to categorize time entries.\n                        The last entry doesn't count toward totals.\n                    </p>)\n                    : \"\"}\n                <div class=\"row\">\n                    {totalHours(\n                        \"Total Uptime\",\n                        this.props.entries\n                            .filter(x => !x.isBreak)\n                            .map(x => x.elapsed)\n                            .reduce((a, b) => (a || 0) + (b || 0), 0))}\n                    {Object.keys(this.props.tags || []).sort().map(hashtagTotalMapping)}\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n","import moment from 'moment';\n\nimport { dateFormatFieldString } from '../utils/formatting.js';\n\nconst dateTo4DigitTime = value =>\n    value.getHours() * 100 + value.getMinutes();\nconst insertColon = (value) =>\n    value.slice(0, 2) + \":\" + value.slice(2);\nconst pad = (value) => value.toString().padStart(4, \"0\");\nconst timeIsValid = value =>\n    value && !isNaN(value)\n    && 0 <= parseInt(value)\n    && parseInt(value) <= 2359\n    && parseInt(value.slice(-2)) < 60;\n\nconst getDateFromDateObj = (value) =>\n    moment(new Date(\n        value.getFullYear(),\n        value.getMonth(),\n        value.getDate()));\n\nexport default class Timestamp {\n    /**\n     * @param {Date} timestamp \n     */\n    constructor(timestamp) {\n        if (timestamp instanceof Date) {\n            this.date = getDateFromDateObj(timestamp);\n            this.time = dateTo4DigitTime(timestamp);\n            this.sortdate = this.date;\n            this.sorttime = this.time;\n            this.isMidEntry = false;\n        }\n        else {\n            this.date = moment(new Date(timestamp.date));\n            this.time = timestamp.time;\n            this.sortdate = moment(new Date(timestamp.sortdate));\n            this.sorttime = timestamp.sorttime;\n            this.setIsMidEntry(false);\n        }\n    }\n\n    toObject = () => {\n        return {\n            date: this.sortdate,\n            time: this.sorttime,\n            sortdate: this.sortdate,\n            sorttime: this.sorttime\n        };\n    }\n\n    getSortable() {\n        const timestring = pad(this.sorttime);\n        const hours = parseInt(timestring.slice(0, 2));\n        const minutes = parseInt(timestring.slice(2)) + (hours * 60);\n        return moment(this.sortdate).add(minutes, 'm');\n    }\n\n    startEntry = () => this.setIsMidEntry(true);\n    completeEntry = () => this.setIsMidEntry(false);\n\n    renderDate = () => this.date.format(dateFormatFieldString);\n\n    renderTime = (options) => this.isMidEntry\n        ? this.time.toString()\n        : options && options.includeColon\n            ? insertColon(pad(this.time))\n            : pad(this.time);\n\n    setIsMidEntry(value) {\n        this.isMidEntry = value;\n        if (!value) {\n            if (timeIsValid(this.time.toString())) {\n                this.sorttime = this.time;\n            } else {\n                this.time = this.sorttime;\n            }\n            \n            if (this.date.isValid()) {\n                this.sortdate = this.date;\n            } else {\n                this.date = this.sortdate;    \n            }\n        }\n        return this;\n    }\n\n    setDate(value) {\n        if (value instanceof Date) {\n            this.date = getDateFromDateObj(value);\n        } else {\n            this.date = moment(value);\n        }\n        return this;\n    }\n\n    setTime(value) {\n        if (!value) {\n            value = 0;\n        }\n        if (!isNaN(value)) {\n            this.time = parseInt(value);\n        }\n        return this;\n    }\n}\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faPlay, faPlus, faPause, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\nimport { header, dateHeader } from './components/header.js';\nimport Report from './components/Report.js';\nimport Totals from './components/Totals.js';\n\nimport Timestamp from './dataTypes/Timestamp.js';\n\nimport { findHashtagEntries, getHashtags } from './utils/hashtagging.js';\n\nconst timeDiff = (timestampA, timestampB) =>\n    timestampB.getSortable() - timestampA.getSortable();\n\nexport default class Timesheet extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            entries: this.loadEntries(),\n            isCopyMode: false,\n        };\n    }\n    render() {\n        const rowClass = entry =>\n            \"input-group\"\n            + (entry.isBreak ? \" break-entry\" : \"\");\n        const resumeButton = (entry, index, isLast) => isLast\n            ? \"\"\n            : (\n                <button class=\"btn btn-outline-secondary\" type=\"button\"\n                        title=\"Add a new entry to resume this task.\"\n                        onClick={e => this.resumeEntry(index)}>\n                    <FontAwesomeIcon icon={faPlay} />\n                </button>\n            );\n        const editModeMapping = (entry, index) => (\n            <React.Fragment>\n                {dateHeader(this.state.entries, index)}\n                <div class={rowClass(entry)}>\n                    <input type=\"number\" class=\"form-control timestamp\"\n                        ref={entry.timestampRef}\n                        autoFocus\n                        maxlength=\"4\"\n                        value={entry.timestamp.renderTime()}\n                        onChange={(event) => this.updateTime(index, event.target.value)}\n                        onFocus={() => this.startTimeEntry(index)}\n                        onBlur={() => this.completeTimeEntry(index)}\n                        onKeyDown={(event) => this.arrowKeyFocus(index, event, \"timestamp\")} />\n                    <input type=\"text\" class=\"form-control\"\n                        ref={entry.summaryRef}\n                        value={entry.summary}\n                        onChange={(event) => this.updateSummary(index, event.target.value)}\n                        onKeyDown={(event) => this.arrowKeyFocus(index, event, \"summary\")} />\n                    <div class=\"input-group-append\">\n                        {resumeButton(entry, index, index === this.state.entries.length - 1)}\n                        <div class=\"dropdown-menu\" aria-labelledby={`entryMenu${index}`}>\n                            <div class=\"form-group\">\n                                <label>Entry Date</label>\n                                <input type=\"date\" class=\"form-control\"\n                                    value={entry.timestamp.renderDate()}\n                                    onChange={(event) => this.updateDate(index, event.target.value)}\n                                    onFocus={() => this.startTimeEntry(index)}\n                                    onBlur={() => this.completeTimeEntry(index)} />\n                            </div>\n                            <div class=\"dropdown-divider\"></div>\n                            <button class=\"dropdown-item text-secondary\"\n                                onClick={e => this.updateIsBreak(index)}>\n                                <FontAwesomeIcon icon={faPause} />\n                                <span class=\"ml-1\">Toggle downtime</span>\n                            </button>\n                            <button class=\"dropdown-item text-danger\"\n                                onClick={(e) => this.removeEntry(index)}>\n                                <FontAwesomeIcon icon={faTrashAlt} />\n                                <span class=\"ml-1\">Remove entry</span>\n                            </button>\n                        </div>\n                        <button class=\"btn btn-outline-secondary\" type=\"button\"\n                            id={`entryMenu${index}`}\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                            title=\"More options\">\n                            <FontAwesomeIcon icon={faBars} />\n                        </button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n        const editModeView = () => (\n            <React.Fragment>\n                {this.state.entries.map(editModeMapping)}\n                <div class=\"mt-2\">\n                    <button class=\"btn btn-primary\" type='button'\n                        title=\"Add an entry.\"\n                        onClick={() => this.addEntry()}\n                        disabled={this.state.isCopyMode}>\n                        <FontAwesomeIcon icon={faPlus} />\n                    </button> \n                    <button class=\"btn btn-secondary ml-1\" type=\"button\"\n                        title=\"Take a break.\"\n                        onClick={(e) => this.addEntry(\"Break\", true)}\n                        disabled={this.state.isCopyMode}>\n                        <FontAwesomeIcon icon={faPause} />\n                    </button>\n                    <button class=\"btn btn-danger ml-1\" type=\"button\"\n                        title=\"Clear all entries.\"\n                        onClick={() => this.clearAllEntries()}>\n                        <FontAwesomeIcon icon={faTrashAlt} />\n                    </button>\n                </div>\n            </React.Fragment>\n        );\n        const copyModeView = () => (<Report entries={this.state.entries} />);\n        const list = this.state.isCopyMode ? copyModeView() : editModeView();\n        return (\n            <div class=\"container\">\n                <ul class=\"nav nav-tabs\">\n                    <li class=\"nav-item\">\n                        <button type=\"button\"\n                            class={`nav-link ${!this.state.isCopyMode ? \"active\" : \"\"}`}\n                            onClick={() => this.updateCopyMode(false)}>Entry</button>\n                    </li>\n                    <li class=\"nav-item\">\n                        <button type=\"button\"\n                            class={`nav-link ${this.state.isCopyMode ? \"active\" : \"\"}`}\n                            onClick={() => this.updateCopyMode(true)}>Report</button>\n                    </li>\n                </ul>\n                {list}\n                {header(\"Totals\", this.state.isCopyMode ? \"row\" : \"\")}\n                <Totals\n                    entries={this.state.entries}\n                    tags={this.state.tags}\n                    displayHelp={!this.state.isCopyMode} />\n            </div>\n        );\n    }\n    \n    arrowKeyFocus(index, event, field) {\n        let newIndex = index;\n        if (event.keyCode === 38) { // up\n            event.preventDefault();\n            if (index <= 0) return;\n            newIndex -= 1;\n        }\n        else if (event.keyCode === 40 || event.keyCode === 13) { // down or enter\n            event.preventDefault();\n            if (index >= this.state.entries.length - 1) {\n                // only add if the last entry has text\n                if (this.state.entries[index].summary.trim() !== \"\") {\n                    this.addEntry();\n                }\n                return;\n            }\n            newIndex += 1;\n        }\n        else {\n            return;\n        }\n        this.state.entries[newIndex][field + \"Ref\"].current.focus();\n    }\n\n    startTimeEntry = (index) =>\n        this.updateTimeProp(index, x => x.startEntry());\n    \n    completeTimeEntry = (index) =>\n        this.updateTimeProp(index, x => x.completeEntry());\n    \n    updateDate = (index, value) =>\n        this.updateTimeProp(index, x => x.setDate(value));\n\n    updateTime = (index, value) =>\n        this.updateTimeProp(index, x => x.setTime(value));\n    \n    updateTimeProp = (index, func) =>\n        this.updateEntry(\n            index,\n            \"timestamp\",\n             x => func(x.timestamp));\n\n    updateSummary = (index, value) =>\n        this.updateEntry(index, \"summary\", value);\n    \n    updateIsBreak = (index) =>\n        this.updateEntry(index, \"isBreak\", x => !x.isBreak);\n\n    updateEntry(index, field, valueFunc) {\n        if (typeof(valueFunc) !== \"function\") {\n            const value = valueFunc;\n            valueFunc = x => value;\n        }\n        let entries = this.state.entries;\n        entries[index][field] = valueFunc(entries[index]);\n        entries.sort((a, b) =>\n            a.timestamp.getSortable() - b.timestamp.getSortable());\n        this.setStateWrapper({entries});\n    }\n\n    resumeEntry(index) {\n        const resumeText = \"Resume \";\n        var sourceEntry = this.state.entries[index];\n        var text = sourceEntry.summary;\n        text = !text.startsWith(resumeText) ? resumeText + text : text;\n        this.addEntry(text, sourceEntry.isBreak);\n    }\n\n    addEntry(text, isBreak) {\n        if (!text) {\n            text = '';\n        }\n        let entries = this.state.entries;\n        entries.push(this.createEntry({\n            timestamp: new Timestamp(new Date()),\n            summary: text,\n            isBreak: !!isBreak\n        }));\n        this.setStateWrapper({entries});\n    }\n\n    createEntry(props) {\n        return {\n            timestamp: props.timestamp,\n            summary: props.summary,\n            isBreak: !!props.isBreak,\n\n            timestampRef: React.createRef(),\n            summaryRef: React.createRef()\n        };\n    }\n\n    removeEntry(index) {\n        let entries = this.state.entries;\n        entries.splice(index, 1);\n        this.setStateWrapper({entries});\n    }\n\n    toggleCopyMode = () => this.updateCopyMode(!this.state.isCopyMode);\n    updateCopyMode(value) {\n        let isCopyMode = value;\n        this.setState({isCopyMode});\n    }\n\n    clearAllEntries() {\n        confirmAlert({\n            title: \"Clear all entries\",\n            message: \"Are you sure?\",\n            buttons: [\n                {\n                    label: \"Yes, Clear\",\n                    onClick: () => {\n                        const entries = [];\n                        this.setState({entries});\n                    }\n                },\n                {\n                    label: \"No, Cancel\"\n                }\n            ]\n        });\n    }\n\n    setStateWrapper(state) {\n        this.calculateTimeElapsed(state);\n        this.setState(state);\n        this.saveEntries(this.state.entries);\n    }\n\n    calculateTimeElapsed(state) {\n        for (let i = 0; i < state.entries.length; i++) {\n            const entry = state.entries[i];\n            entry.elapsed = i + 1 < state.entries.length\n                ? timeDiff(\n                    entry.timestamp,\n                    state.entries[i + 1].timestamp)\n                : null;\n        }\n\n        // regenerate tag entries\n        state.tags = [];\n        const taggedEntries = findHashtagEntries(state.entries);\n        taggedEntries.forEach(entry => {\n            var tags = getHashtags(entry.summary)\n                // distinct tags\n                .filter((value, index, self) => self.indexOf(value) === index);\n            tags.forEach(tag => {\n                state.tags[tag] = (state.tags[tag] || 0) + entry.elapsed;\n            });\n        });\n    }\n\n    saveEntries(entries) {\n        const savedEntries = entries.map(entry => {\n            return {\n                timestamp: entry.timestamp.toObject(),\n                summary: entry.summary,\n                isBreak: entry.isBreak\n            };\n        });\n        localStorage.setItem(\"entries\", JSON.stringify(savedEntries));\n    }\n\n    loadEntries() {\n        let entries = JSON.parse(localStorage.getItem(\"entries\"));\n        if (entries) {\n            // re-cast timestamps according to class\n            for(let i = 0; i < entries.length; i++) {\n                entries[i].timestamp = new Timestamp(entries[i].timestamp);\n                entries[i] = this.createEntry(entries[i]);\n            }\n        }\n        return entries || [];\n    }\n}\n","import React from 'react';\nimport Timesheet from './Timesheet.js';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <nav class=\"navbar navbar-dark bg-dark\">\n        <a class=\"navbar-brand\" href=\".\">\n          Timestamper\n        </a>\n\n        <a class=\"nav-link p-2\" href=\"https://github.com/aaaantoine/timestamper\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"GitHub\">\n          <svg class=\"navbar-nav-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 499.36\" focusable=\"false\">\n            <title>GitHub</title>\n            <path d=\"M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z\" fill=\"currentColor\" fill-rule=\"evenodd\"></path>\n          </svg>\n        </a>\n      </nav>\n      \n      <Timesheet />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}